{"ast":null,"code":"import _slicedToArray from\"D:/projetos/DOMMUS/Teste-FullStack-Pleno/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import{useState}from'react';import{useNavigate}from'react-router-dom';export default function AuthUser(){var navigate=useNavigate();var getToken=function getToken(){var tokenString=sessionStorage.getItem('token');var userToken=JSON.parse(tokenString);return userToken;};var getUser=function getUser(){var userString=sessionStorage.getItem('user');var user_detail=JSON.parse(userString);return user_detail;};var _useState=useState(getToken()),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];var _useState3=useState(getUser()),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var saveToken=function saveToken(user,token){sessionStorage.setItem('token',JSON.stringify(token));sessionStorage.setItem('user',JSON.stringify(user));setToken(token);setUser(user);navigate('/dashboard');};var logout=function logout(){sessionStorage.clear();navigate('/login');};var http=axios.create({baseURL:\"http://backend-dommus.sotero.dev/api\",headers:{\"Content-type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)}});return{setToken:saveToken,token:token,user:user,getToken:getToken,http:http,logout:logout};}","map":{"version":3,"sources":["D:/projetos/DOMMUS/Teste-FullStack-Pleno/frontend/src/components/AuthUser.js"],"names":["axios","useState","useNavigate","AuthUser","navigate","getToken","tokenString","sessionStorage","getItem","userToken","JSON","parse","getUser","userString","user_detail","token","setToken","user","setUser","saveToken","setItem","stringify","logout","clear","http","create","baseURL","headers"],"mappings":"uIAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CAEA,cAAe,SAASC,CAAAA,QAAT,EAAmB,CAC9B,GAAMC,CAAAA,QAAQ,CAAGF,WAAW,EAA5B,CAEA,GAAMG,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAK,CAClB,GAAMC,CAAAA,WAAW,CAAGC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAApB,CACA,GAAMC,CAAAA,SAAS,CAAGC,IAAI,CAACC,KAAL,CAAWL,WAAX,CAAlB,CACA,MAAOG,CAAAA,SAAP,CACH,CAJD,CAMA,GAAMG,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAK,CACjB,GAAMC,CAAAA,UAAU,CAAGN,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAnB,CACA,GAAMM,CAAAA,WAAW,CAAGJ,IAAI,CAACC,KAAL,CAAWE,UAAX,CAApB,CACA,MAAOC,CAAAA,WAAP,CACH,CAJD,CAQA,cAAyBb,QAAQ,CAACI,QAAQ,EAAT,CAAjC,wCAAOU,KAAP,eAAaC,QAAb,eACA,eAAuBf,QAAQ,CAACW,OAAO,EAAR,CAA/B,yCAAOK,IAAP,eAAYC,OAAZ,eAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACF,IAAD,CAAMF,KAAN,CAAe,CAC7BR,cAAc,CAACa,OAAf,CAAuB,OAAvB,CAA+BV,IAAI,CAACW,SAAL,CAAeN,KAAf,CAA/B,EACAR,cAAc,CAACa,OAAf,CAAuB,MAAvB,CAA8BV,IAAI,CAACW,SAAL,CAAeJ,IAAf,CAA9B,EAEAD,QAAQ,CAACD,KAAD,CAAR,CACAG,OAAO,CAACD,IAAD,CAAP,CACAb,QAAQ,CAAC,YAAD,CAAR,CACH,CAPD,CASA,GAAMkB,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACjBf,cAAc,CAACgB,KAAf,GACAnB,QAAQ,CAAC,QAAD,CAAR,CACH,CAHD,CAKA,GAAMoB,CAAAA,IAAI,CAAGxB,KAAK,CAACyB,MAAN,CAAa,CACtBC,OAAO,CAAC,sCADc,CAEtBC,OAAO,CAAC,CACJ,eAAiB,kBADb,CAEJ,iCAA4BZ,KAA5B,CAFI,CAFc,CAAb,CAAb,CAOA,MAAO,CACHC,QAAQ,CAACG,SADN,CAEHJ,KAAK,CAALA,KAFG,CAGHE,IAAI,CAAJA,IAHG,CAIHZ,QAAQ,CAARA,QAJG,CAKHmB,IAAI,CAAJA,IALG,CAMHF,MAAM,CAANA,MANG,CAAP,CAQH","sourcesContent":["import axios from 'axios';\r\nimport { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function AuthUser(){\r\n    const navigate = useNavigate();\r\n\r\n    const getToken = () =>{\r\n        const tokenString = sessionStorage.getItem('token');\r\n        const userToken = JSON.parse(tokenString);\r\n        return userToken;\r\n    }\r\n\r\n    const getUser = () =>{\r\n        const userString = sessionStorage.getItem('user');\r\n        const user_detail = JSON.parse(userString);\r\n        return user_detail;\r\n    }\r\n\r\n\r\n\r\n    const [token,setToken] = useState(getToken());\r\n    const [user,setUser] = useState(getUser());\r\n\r\n    const saveToken = (user,token) =>{\r\n        sessionStorage.setItem('token',JSON.stringify(token));\r\n        sessionStorage.setItem('user',JSON.stringify(user));\r\n\r\n        setToken(token);\r\n        setUser(user);\r\n        navigate('/dashboard');\r\n    }\r\n\r\n    const logout = () => {\r\n        sessionStorage.clear();\r\n        navigate('/login');\r\n    }\r\n\r\n    const http = axios.create({\r\n        baseURL:\"http://backend-dommus.sotero.dev/api\",\r\n        headers:{\r\n            \"Content-type\" : \"application/json\",\r\n            \"Authorization\" : `Bearer ${token}`\r\n        }\r\n    });\r\n    return {\r\n        setToken:saveToken,\r\n        token,\r\n        user,\r\n        getToken,\r\n        http,\r\n        logout\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}